{"version":3,"file":"instrumentation.js","sourceRoot":"","sources":["../../../../src/instrumentations/webVitals/instrumentation.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,gDAAkE;AAElE,mDAAkD;AAClD,uEAAsE;AAEtE;IAA8C,4CAAmB;IAAjE;QAAA,qEAgBC;QAfU,UAAI,GAAG,kDAAkD,CAAC;QAC1D,aAAO,GAAG,mBAAO,CAAC;;IAc7B,CAAC;IAZC,6CAAU,GAAV;QACE,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;QAC9B,IAAM,SAAS,GAAG,IAAI,CAAC,iCAAiC,EAAE,CAAC;QAC3D,SAAS,CAAC,UAAU,EAAE,CAAC;IACzB,CAAC;IAEO,oEAAiC,GAAzC;QACE,IAAI,IAAI,CAAC,MAAM,CAAC,yBAAyB,EAAE;YACzC,OAAO,IAAI,mDAAwB,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;SAC/D;QACD,OAAO,IAAI,+BAAc,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;IACtD,CAAC;IACH,+BAAC;AAAD,CAAC,AAhBD,CAA8C,+BAAmB,GAgBhE;AAhBY,4DAAwB","sourcesContent":["import { BaseInstrumentation, VERSION } from '@grafana/faro-core';\n\nimport { WebVitalsBasic } from './webVitalsBasic';\nimport { WebVitalsWithAttribution } from './webVitalsWithAttribution';\n\nexport class WebVitalsInstrumentation extends BaseInstrumentation {\n  readonly name = '@grafana/faro-web-sdk:instrumentation-web-vitals';\n  readonly version = VERSION;\n\n  initialize(): void {\n    this.logDebug('Initializing');\n    const webVitals = this.intializeWebVitalsInstrumentation();\n    webVitals.initialize();\n  }\n\n  private intializeWebVitalsInstrumentation() {\n    if (this.config.trackWebVitalsAttribution) {\n      return new WebVitalsWithAttribution(this.api.pushMeasurement);\n    }\n    return new WebVitalsBasic(this.api.pushMeasurement);\n  }\n}\n"]}