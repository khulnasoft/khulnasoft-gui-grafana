## khulnasoft-sdk-js

A JS SDK for providing khulnasoft querier, constructing SQL queries for the querier.

API
Since querying available fields and options from the querier will be very frequent, the API might need to support cancellation. As querier.js is intended for use in different projects, it includes a built-in API capability, but each project should use its own API interface based on its specific requirements.

## Using an external API:
javascript
import { setCreateReqFunc } from 'khulnasoft-sdk-js'
import dfApiCreator from 'my-api-creator'

setCreateReqFunc(dfApiCreator)

## Note, setCreateReqFunc accepts a function whose parameters are:

method
url
params
headers
The return value is a function that, when executed, initiates the query. The returned function can provide a cancel method to cancel the request.

javascript
let func = createCancelAbleFunc(url, method, params, headers)
func() // Actually initiates the request
func.cancel() // Cancels the request


javascript
import { setQuerierBaseUrl } from 'khulnasoft-sdk-js'
setQuerierBaseUrl('http://khulnasoft-querier:8080')

Using dfQuery to construct a complete search SQL:

## TODO

querier feature
For the structure of the queried tag, khulnasoft-sdk-js will internally add the ${resource}_id field for resource type fields for subsequent conversion.
For resource type select, it automatically adds the corresponding ${resource}_id select, e.g., select vm becomes select vm, vm_id, and the same applies to groupBy.
For resource type where conditions, when the operators are =, !=, IN, NOT IN, it automatically converts to resource_id.
The first resource type grouping condition in groupBy will have node_type(${resource}) and icon_id(${resource}) select contents added, and both server and client will calculate separately.
Fields in groupBy will be automatically added to select (groupBy will automatically check if the field is in the final select). (For groupBy enum types, enum(tag) will be added automatically, except for bit_enum).
groupBy/orderBy will automatically search for items used in select with as, and reuse the name after as if found. If multiple matches exist, the first one with as is used.
With groupBy, all items in orderBy are required to appear in select.
<del>Without groupBy, the having condition should be included in where.</del> (deprecated after 6.3.5).
For external resource groups, it will additionally add: negating all conditions of resource types in other resource groups (not condition in resource group A and not B and not C,...).
When metric function uses percentile, the percentage parameter converts to decimal.
When the parameter contains **any, the resource type key converts to resource_id=0 or resource_id!=0. Note that only resource types support **any, and it needs to be a forward or reverse operation.
When the parameter contains __disabled, the condition is ignored.
For resource type resource sets, is_internet=false is automatically added. This condition becomes invalid when the other side is internet. Also, the resource external negation does not negate this condition.
When metric (e.g., byte > 100, sum(byte) > 100) appears in conditions, if it's a raw metric condition, it will be included in where. If it's an aggregated metric condition, it will be included in having.
When setting uid for resource sets, the delivered QUERY_ID will be issued according to the uid.
