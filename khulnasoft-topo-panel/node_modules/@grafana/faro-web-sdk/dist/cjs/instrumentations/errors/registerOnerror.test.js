"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var testUtils_1 = require("@grafana/faro-core/src/testUtils");
var initialize_1 = require("../../initialize");
var registerOnerror_1 = require("./registerOnerror");
describe('registerOnerror', function () {
    it('will preserve the old callback', function () {
        var called = false;
        window.onerror = function () {
            called = true;
        };
        var transport = new testUtils_1.MockTransport();
        var config = (0, testUtils_1.mockConfig)({
            transports: [transport],
        });
        var faro = (0, initialize_1.initializeFaro)(config);
        (0, registerOnerror_1.registerOnerror)(faro);
        window.onerror('boo', 'some file', 10, 10, new Error('boo'));
        expect(called).toBe(true);
        expect(transport.items).toHaveLength(1);
    });
});
//# sourceMappingURL=registerOnerror.test.js.map