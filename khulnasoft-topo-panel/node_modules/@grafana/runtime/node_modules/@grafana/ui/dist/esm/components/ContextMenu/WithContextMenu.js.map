{"version":3,"file":"WithContextMenu.js","sources":["../../../../src/components/ContextMenu/WithContextMenu.tsx"],"sourcesContent":["import React, { useState } from 'react';\n\nimport { ContextMenu } from '../ContextMenu/ContextMenu';\n\nexport interface WithContextMenuProps {\n  /** Menu item trigger that accepts openMenu prop */\n  children: (props: { openMenu: React.MouseEventHandler<HTMLElement> }) => JSX.Element;\n  /** A function that returns an array of menu items */\n  renderMenuItems: () => React.ReactNode;\n  /** On menu open focus the first element */\n  focusOnOpen?: boolean;\n}\n\nexport const WithContextMenu: React.FC<WithContextMenuProps> = ({ children, renderMenuItems, focusOnOpen = true }) => {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [menuPosition, setMenuPosition] = useState({ x: 0, y: 0 });\n  return (\n    <>\n      {children({\n        openMenu: (e) => {\n          setIsMenuOpen(true);\n          setMenuPosition({\n            x: e.pageX,\n            y: e.pageY,\n          });\n        },\n      })}\n\n      {isMenuOpen && (\n        <ContextMenu\n          onClose={() => setIsMenuOpen(false)}\n          x={menuPosition.x}\n          y={menuPosition.y}\n          renderMenuItems={renderMenuItems}\n          focusOnOpen={focusOnOpen}\n        />\n      )}\n    </>\n  );\n};\n"],"names":["React"],"mappings":";;;AAaO,MAAM,kBAAkD,CAAC,EAAE,UAAU,eAAiB,EAAA,WAAA,GAAc,MAAW,KAAA;AACpH,EAAA,MAAM,CAAC,UAAA,EAAY,aAAa,CAAA,GAAI,SAAS,KAAK,CAAA,CAAA;AAClD,EAAM,MAAA,CAAC,YAAc,EAAA,eAAe,CAAI,GAAA,QAAA,CAAS,EAAE,CAAG,EAAA,CAAA,EAAG,CAAG,EAAA,CAAA,EAAG,CAAA,CAAA;AAC/D,EAAA,mFAEK,QAAS,CAAA;AAAA,IACR,QAAA,EAAU,CAAC,CAAM,KAAA;AACf,MAAA,aAAA,CAAc,IAAI,CAAA,CAAA;AAClB,MAAgB,eAAA,CAAA;AAAA,QACd,GAAG,CAAE,CAAA,KAAA;AAAA,QACL,GAAG,CAAE,CAAA,KAAA;AAAA,OACN,CAAA,CAAA;AAAA,KACH;AAAA,GACD,CAEA,EAAA,UAAA,oBACEA,cAAA,CAAA,aAAA,CAAA,WAAA,EAAA;AAAA,IACC,OAAA,EAAS,MAAM,aAAA,CAAc,KAAK,CAAA;AAAA,IAClC,GAAG,YAAa,CAAA,CAAA;AAAA,IAChB,GAAG,YAAa,CAAA,CAAA;AAAA,IAChB,eAAA;AAAA,IACA,WAAA;AAAA,GACF,CAEJ,CAAA,CAAA;AAEJ;;;;"}