{"version":3,"file":"DataLinkEditor.js","sources":["../../../../src/components/DataLinks/DataLinkEditor.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { ChangeEvent } from 'react';\n\nimport { VariableSuggestion, GrafanaTheme2, DataLink } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes/index';\nimport { Field } from '../Forms/Field';\nimport { Input } from '../Input/Input';\nimport { Switch } from '../Switch/Switch';\n\nimport { DataLinkInput } from './DataLinkInput';\n\ninterface DataLinkEditorProps {\n  index: number;\n  isLast: boolean;\n  value: DataLink;\n  suggestions: VariableSuggestion[];\n  onChange: (index: number, link: DataLink, callback?: () => void) => void;\n}\n\nconst getStyles = (theme: GrafanaTheme2) => ({\n  listItem: css`\n    margin-bottom: ${theme.spacing()};\n  `,\n  infoText: css`\n    padding-bottom: ${theme.spacing(2)};\n    margin-left: 66px;\n    color: ${theme.colors.text.secondary};\n  `,\n});\n\nexport const DataLinkEditor: React.FC<DataLinkEditorProps> = React.memo(\n  ({ index, value, onChange, suggestions, isLast }) => {\n    const styles = useStyles2(getStyles);\n\n    const onUrlChange = (url: string, callback?: () => void) => {\n      onChange(index, { ...value, url }, callback);\n    };\n    const onTitleChange = (event: ChangeEvent<HTMLInputElement>) => {\n      onChange(index, { ...value, title: event.target.value });\n    };\n\n    const onOpenInNewTabChanged = () => {\n      onChange(index, { ...value, targetBlank: !value.targetBlank });\n    };\n\n    return (\n      <div className={styles.listItem}>\n        <Field label=\"Title\">\n          <Input value={value.title} onChange={onTitleChange} placeholder=\"Show details\" />\n        </Field>\n\n        <Field label=\"URL\">\n          <DataLinkInput value={value.url} onChange={onUrlChange} suggestions={suggestions} />\n        </Field>\n\n        <Field label=\"Open in new tab\">\n          <Switch value={value.targetBlank || false} onChange={onOpenInNewTabChanged} />\n        </Field>\n\n        {isLast && (\n          <div className={styles.infoText}>\n            With data links you can reference data variables like series name, labels and values. Type CMD+Space,\n            CTRL+Space, or $ to open variable suggestions.\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\nDataLinkEditor.displayName = 'DataLinkEditor';\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBA,MAAM,SAAA,GAAY,CAAC,KAA0B,MAAA;AAAA,EAC3C,QAAU,EAAA,GAAA,CAAA;AAAA,mBAAA,EACS,MAAM,OAAQ,EAAA,CAAA;AAAA,EAAA,CAAA;AAAA,EAEjC,QAAU,EAAA,GAAA,CAAA;AAAA,oBACU,EAAA,KAAA,CAAM,QAAQ,CAAC,CAAA,CAAA;AAAA;AAAA,WAExB,EAAA,KAAA,CAAM,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,EAAA,CAAA;AAE/B,CAAA,CAAA,CAAA;AAEO,MAAM,iBAAgDA,cAAM,CAAA,IAAA;AAAA,EACjE,CAAC,EAAE,KAAA,EAAO,OAAO,QAAU,EAAA,WAAA,EAAa,QAAa,KAAA;AACnD,IAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AAEnC,IAAM,MAAA,WAAA,GAAc,CAAC,GAAA,EAAa,QAA0B,KAAA;AAC1D,MAAA,QAAA,CAAS,OAAO,aAAK,CAAA,cAAA,CAAA,EAAA,EAAA,KAAA,CAAA,EAAL,EAAY,GAAA,KAAO,QAAQ,CAAA,CAAA;AAAA,KAC7C,CAAA;AACA,IAAM,MAAA,aAAA,GAAgB,CAAC,KAAyC,KAAA;AAC9D,MAAS,QAAA,CAAA,KAAA,EAAO,iCAAK,KAAL,CAAA,EAAA,EAAY,OAAO,KAAM,CAAA,MAAA,CAAO,OAAO,CAAA,CAAA,CAAA;AAAA,KACzD,CAAA;AAEA,IAAA,MAAM,wBAAwB,MAAM;AAClC,MAAS,QAAA,CAAA,KAAA,EAAO,iCAAK,KAAL,CAAA,EAAA,EAAY,aAAa,CAAC,KAAA,CAAM,aAAa,CAAA,CAAA,CAAA;AAAA,KAC/D,CAAA;AAEA,IAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAI,WAAW,MAAO,CAAA,QAAA;AAAA,KAAA,kBACpBA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAM,KAAM,EAAA,OAAA;AAAA,KAAA,kBACVA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAM,OAAO,KAAM,CAAA,KAAA;AAAA,MAAO,QAAU,EAAA,aAAA;AAAA,MAAe,WAAY,EAAA,cAAA;AAAA,KAAe,CACjF,mBAECA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAM,KAAM,EAAA,KAAA;AAAA,KAAA,kBACVA,cAAA,CAAA,aAAA,CAAA,aAAA,EAAA;AAAA,MAAc,OAAO,KAAM,CAAA,GAAA;AAAA,MAAK,QAAU,EAAA,WAAA;AAAA,MAAa,WAAA;AAAA,KAA0B,CACpF,mBAECA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAM,KAAM,EAAA,iBAAA;AAAA,KAAA,kBACVA,cAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAA,MAAO,KAAA,EAAO,MAAM,WAAe,IAAA,KAAA;AAAA,MAAO,QAAU,EAAA,qBAAA;AAAA,KAAuB,CAC9E,CAEC,EAAA,MAAA,oBACEA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAI,WAAW,MAAO,CAAA,QAAA;AAAA,KAAA,EAAU,sJAGjC,CAEJ,CAAA,CAAA;AAAA,GAEJ;AACF,EAAA;AAEA,cAAA,CAAe,WAAc,GAAA,gBAAA;;;;"}