{"version":3,"file":"TimeOfDayPicker.js","sources":["../../../../src/components/DateTimePickers/TimeOfDayPicker.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport RcTimePicker from 'rc-time-picker';\nimport React, { FC } from 'react';\n\nimport { dateTime, DateTime, dateTimeAsMoment, GrafanaTheme2 } from '@grafana/data';\n\nimport { Icon, useStyles2 } from '../../index';\nimport { focusCss } from '../../themes/mixins';\nimport { inputSizes } from '../Forms/commonStyles';\nimport { FormInputSize } from '../Forms/types';\n\nexport interface Props {\n  onChange: (value: DateTime) => void;\n  value?: DateTime;\n  showHour?: boolean;\n  showSeconds?: boolean;\n  minuteStep?: number;\n  size?: FormInputSize;\n  disabled?: boolean;\n}\n\nexport const TimeOfDayPicker: FC<Props> = ({\n  minuteStep = 1,\n  showHour = true,\n  showSeconds = false,\n  onChange,\n  value,\n  size = 'auto',\n  disabled,\n}) => {\n  const styles = useStyles2(getStyles);\n\n  return (\n    <RcTimePicker\n      className={cx(inputSizes()[size], styles.input)}\n      popupClassName={styles.picker}\n      defaultValue={dateTimeAsMoment()}\n      onChange={(value: any) => onChange(dateTime(value))}\n      allowEmpty={false}\n      showSecond={showSeconds}\n      value={dateTimeAsMoment(value)}\n      showHour={showHour}\n      minuteStep={minuteStep}\n      inputIcon={<Caret wrapperStyle={styles.caretWrapper} />}\n      disabled={disabled}\n    />\n  );\n};\n\ninterface CaretProps {\n  wrapperStyle?: string;\n}\n\nconst Caret: FC<CaretProps> = ({ wrapperStyle = '' }) => {\n  return (\n    <div className={wrapperStyle}>\n      <Icon name=\"angle-down\" />\n    </div>\n  );\n};\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  const bgColor = theme.components.input.background;\n  const menuShadowColor = theme.v1.palette.black;\n  const optionBgHover = theme.colors.background.secondary;\n  const borderRadius = theme.shape.borderRadius(1);\n  const borderColor = theme.components.input.borderColor;\n  return {\n    caretWrapper: css`\n      position: absolute;\n      right: 8px;\n      top: 50%;\n      transform: translateY(-50%);\n      display: inline-block;\n      text-align: right;\n      color: ${theme.colors.text.secondary};\n    `,\n    picker: css`\n      .rc-time-picker-panel-select {\n        font-size: 14px;\n        background-color: ${bgColor};\n        border-color: ${borderColor};\n        li {\n          outline-width: 2px;\n          &.rc-time-picker-panel-select-option-selected {\n            background-color: inherit;\n            border: 1px solid ${theme.v1.palette.orange};\n            border-radius: ${borderRadius};\n          }\n\n          &:hover {\n            background: ${optionBgHover};\n          }\n        }\n      }\n\n      .rc-time-picker-panel-inner {\n        box-shadow: 0px 4px 4px ${menuShadowColor};\n        background-color: ${bgColor};\n        border-color: ${borderColor};\n        border-radius: ${borderRadius};\n        margin-top: 3px;\n\n        .rc-time-picker-panel-input-wrap {\n          margin-right: 2px;\n\n          &,\n          .rc-time-picker-panel-input {\n            background-color: ${bgColor};\n            padding-top: 2px;\n          }\n        }\n\n        .rc-time-picker-panel-combobox {\n          display: flex;\n        }\n      }\n    `,\n    input: css`\n      .rc-time-picker-input {\n        background-color: ${bgColor};\n        border-radius: ${borderRadius};\n        border-color: ${borderColor};\n        height: ${theme.spacing(4)};\n\n        &:focus {\n          ${focusCss(theme)}\n        }\n\n        &:disabled {\n          background-color: ${theme.colors.action.disabledBackground};\n          color: ${theme.colors.action.disabledText};\n          border: 1px solid ${theme.colors.action.disabledBackground};\n          &:focus {\n            box-shadow: none;\n          }\n        }\n      }\n    `,\n  };\n};\n"],"names":["React","value"],"mappings":"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"}