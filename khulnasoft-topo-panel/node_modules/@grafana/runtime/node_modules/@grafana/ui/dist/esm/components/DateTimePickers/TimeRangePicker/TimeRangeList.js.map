{"version":3,"file":"TimeRangeList.js","sources":["../../../../../src/components/DateTimePickers/TimeRangePicker/TimeRangeList.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { ReactNode } from 'react';\n\nimport { TimeOption } from '@grafana/data';\n\nimport { stylesFactory } from '../../../themes';\nimport { t } from '../../../utils/i18n';\n\nimport { TimePickerTitle } from './TimePickerTitle';\nimport { TimeRangeOption } from './TimeRangeOption';\n\nconst getStyles = stylesFactory(() => {\n  return {\n    title: css`\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 8px 16px 5px 9px;\n    `,\n  };\n});\n\nconst getOptionsStyles = stylesFactory(() => {\n  return {\n    grow: css`\n      flex-grow: 1;\n      align-items: flex-start;\n    `,\n  };\n});\n\ninterface Props {\n  title?: string;\n  options: TimeOption[];\n  value?: TimeOption;\n  onChange: (option: TimeOption) => void;\n  placeholderEmpty?: ReactNode;\n}\n\nexport const TimeRangeList = (props: Props) => {\n  const styles = getStyles();\n  const { title, options, placeholderEmpty } = props;\n\n  if (typeof placeholderEmpty !== 'undefined' && options.length <= 0) {\n    return <>{placeholderEmpty}</>;\n  }\n\n  if (!title) {\n    return <Options {...props} />;\n  }\n\n  return (\n    <section aria-label={title}>\n      <fieldset>\n        <div className={styles.title}>\n          <TimePickerTitle>{title}</TimePickerTitle>\n        </div>\n        <Options {...props} />\n      </fieldset>\n    </section>\n  );\n};\n\nconst Options = ({ options, value, onChange, title }: Props) => {\n  const styles = getOptionsStyles();\n\n  return (\n    <>\n      <ul aria-roledescription={t('time-picker.time-range.aria-role', 'Time range selection')}>\n        {options.map((option, index) => (\n          <TimeRangeOption\n            key={keyForOption(option, index)}\n            value={option}\n            selected={isEqual(option, value)}\n            onSelect={onChange}\n            name={title ?? t('time-picker.time-range.default-title', 'Time ranges')}\n          />\n        ))}\n      </ul>\n      <div className={styles.grow} />\n    </>\n  );\n};\n\nfunction keyForOption(option: TimeOption, index: number): string {\n  return `${option.from}-${option.to}-${index}`;\n}\n\nfunction isEqual(x: TimeOption, y?: TimeOption): boolean {\n  if (!y || !x) {\n    return false;\n  }\n  return y.from === x.from && y.to === x.to;\n}\n"],"names":["React"],"mappings":"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"}