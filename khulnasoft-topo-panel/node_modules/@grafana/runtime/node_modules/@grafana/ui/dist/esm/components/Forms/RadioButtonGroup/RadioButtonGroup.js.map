{"version":3,"file":"RadioButtonGroup.js","sources":["../../../../../src/components/Forms/RadioButtonGroup/RadioButtonGroup.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport { uniqueId } from 'lodash';\nimport React, { useCallback, useEffect, useRef } from 'react';\n\nimport { GrafanaTheme2, SelectableValue, toIconName } from '@grafana/data';\n\nimport { useStyles2 } from '../../../themes';\nimport { Icon } from '../../Icon/Icon';\n\nimport { RadioButtonSize, RadioButton } from './RadioButton';\n\nexport interface RadioButtonGroupProps<T> {\n  value?: T;\n  id?: string;\n  disabled?: boolean;\n  disabledOptions?: T[];\n  options: Array<SelectableValue<T>>;\n  onChange?: (value: T) => void;\n  onClick?: (value: T) => void;\n  size?: RadioButtonSize;\n  fullWidth?: boolean;\n  className?: string;\n  autoFocus?: boolean;\n}\n\nexport function RadioButtonGroup<T>({\n  options,\n  value,\n  onChange,\n  onClick,\n  disabled,\n  disabledOptions,\n  size = 'md',\n  id,\n  className,\n  fullWidth = false,\n  autoFocus = false,\n}: RadioButtonGroupProps<T>) {\n  const handleOnChange = useCallback(\n    (option: SelectableValue) => {\n      return () => {\n        if (onChange) {\n          onChange(option.value);\n        }\n      };\n    },\n    [onChange]\n  );\n  const handleOnClick = useCallback(\n    (option: SelectableValue) => {\n      return () => {\n        if (onClick) {\n          onClick(option.value);\n        }\n      };\n    },\n    [onClick]\n  );\n\n  const internalId = id ?? uniqueId('radiogroup-');\n  const groupName = useRef(internalId);\n  const styles = useStyles2(getStyles);\n\n  const activeButtonRef = useRef<HTMLInputElement | null>(null);\n  useEffect(() => {\n    if (autoFocus && activeButtonRef.current) {\n      activeButtonRef.current.focus();\n    }\n  }, [autoFocus]);\n\n  return (\n    <div className={cx(styles.radioGroup, fullWidth && styles.fullWidth, className)}>\n      {options.map((opt, i) => {\n        const isItemDisabled = disabledOptions && opt.value && disabledOptions.includes(opt.value);\n        const icon = opt.icon ? toIconName(opt.icon) : undefined;\n\n        return (\n          <RadioButton\n            size={size}\n            disabled={isItemDisabled || disabled}\n            active={value === opt.value}\n            key={`o.label-${i}`}\n            aria-label={opt.ariaLabel}\n            onChange={handleOnChange(opt)}\n            onClick={handleOnClick(opt)}\n            id={`option-${opt.value}-${internalId}`}\n            name={groupName.current}\n            description={opt.description}\n            fullWidth={fullWidth}\n            ref={value === opt.value ? activeButtonRef : undefined}\n          >\n            {icon && <Icon name={icon} className={styles.icon} />}\n            {opt.imgUrl && <img src={opt.imgUrl} alt={opt.label} className={styles.img} />}\n            {opt.label} {opt.component ? <opt.component /> : null}\n          </RadioButton>\n        );\n      })}\n    </div>\n  );\n}\n\nRadioButtonGroup.displayName = 'RadioButtonGroup';\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    radioGroup: css({\n      display: 'inline-flex',\n      flexDirection: 'row',\n      flexWrap: 'nowrap',\n      border: `1px solid ${theme.components.input.borderColor}`,\n      borderRadius: theme.shape.borderRadius(),\n      padding: '2px',\n    }),\n    fullWidth: css({\n      display: 'flex',\n    }),\n    icon: css`\n      margin-right: 6px;\n    `,\n    img: css`\n      width: ${theme.spacing(2)};\n      height: ${theme.spacing(2)};\n      margin-right: ${theme.spacing(1)};\n    `,\n  };\n};\n"],"names":["React"],"mappings":"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"}