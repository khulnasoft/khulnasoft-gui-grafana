{"version":3,"file":"Menu.js","sources":["../../../../src/components/Menu/Menu.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { useImperativeHandle, useRef } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes';\n\nimport { MenuDivider } from './MenuDivider';\nimport { MenuGroup } from './MenuGroup';\nimport { MenuItem } from './MenuItem';\nimport { useMenuFocus } from './hooks';\n\nexport interface MenuProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** React element rendered at the top of the menu */\n  header?: React.ReactNode;\n  children: React.ReactNode;\n  ariaLabel?: string;\n  onOpen?: (focusOnItem: (itemId: number) => void) => void;\n  onClose?: () => void;\n  onKeyDown?: React.KeyboardEventHandler;\n}\n\nconst MenuComp = React.forwardRef<HTMLDivElement, MenuProps>(\n  ({ header, children, ariaLabel, onOpen, onClose, onKeyDown, ...otherProps }, forwardedRef) => {\n    const styles = useStyles2(getStyles);\n\n    const localRef = useRef<HTMLDivElement>(null);\n    useImperativeHandle(forwardedRef, () => localRef.current!);\n\n    const [handleKeys, handleFocus] = useMenuFocus({ localRef, onOpen, onClose, onKeyDown });\n\n    return (\n      <div\n        {...otherProps}\n        tabIndex={-1}\n        ref={localRef}\n        className={styles.wrapper}\n        role=\"menu\"\n        aria-label={ariaLabel}\n        onKeyDown={handleKeys}\n        onFocus={handleFocus}\n      >\n        {header && <div className={styles.header}>{header}</div>}\n        {children}\n      </div>\n    );\n  }\n);\n\nMenuComp.displayName = 'Menu';\n\nexport const Menu = Object.assign(MenuComp, {\n  Item: MenuItem,\n  Divider: MenuDivider,\n  Group: MenuGroup,\n});\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    header: css`\n      padding: ${theme.spacing(0.5, 0.5, 1, 0.5)};\n      border-bottom: 1px solid ${theme.colors.border.weak};\n    `,\n    wrapper: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      display: inline-block;\n      border-radius: ${theme.shape.borderRadius()};\n      padding: ${theme.spacing(0.5, 0)};\n    `,\n  };\n};\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsBA,MAAM,WAAWA,cAAM,CAAA,UAAA;AAAA,EACrB,CAAC,IAA4E,YAAiB,KAAA;AAA7F,IAAA,IAAA,EAAA,GAAA,EAAA,EAAE,EAAQ,MAAA,EAAA,QAAA,EAAU,SAAW,EAAA,MAAA,EAAQ,SAAS,SAvBnD,EAAA,GAuBG,EAA8D,EAAA,UAAA,GAAA,SAAA,CAA9D,IAA8D,CAA5D,QAAA,EAAQ,UAAU,EAAA,WAAA,EAAW,UAAQ,SAAS,EAAA,WAAA,CAAA,CAAA,CAAA;AAC/C,IAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AAEnC,IAAM,MAAA,QAAA,GAAW,OAAuB,IAAI,CAAA,CAAA;AAC5C,IAAoB,mBAAA,CAAA,YAAA,EAAc,MAAM,QAAA,CAAS,OAAQ,CAAA,CAAA;AAEzD,IAAM,MAAA,CAAC,UAAY,EAAA,WAAW,CAAI,GAAA,YAAA,CAAa,EAAE,QAAU,EAAA,MAAA,EAAQ,OAAS,EAAA,SAAA,EAAW,CAAA,CAAA;AAEvF,IACE,uBAAAA,cAAA,CAAA,aAAA,CAAC,wCACK,UADL,CAAA,EAAA;AAAA,MAEC,QAAU,EAAA,CAAA,CAAA;AAAA,MACV,GAAK,EAAA,QAAA;AAAA,MACL,WAAW,MAAO,CAAA,OAAA;AAAA,MAClB,IAAK,EAAA,MAAA;AAAA,MACL,YAAY,EAAA,SAAA;AAAA,MACZ,SAAW,EAAA,UAAA;AAAA,MACX,OAAS,EAAA,WAAA;AAAA,KAAA,CAAA,EAER,0BAAWA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAI,WAAW,MAAO,CAAA,MAAA;AAAA,KAAS,EAAA,MAAO,GACjD,QACH,CAAA,CAAA;AAAA,GAEJ;AACF,CAAA,CAAA;AAEA,QAAA,CAAS,WAAc,GAAA,MAAA,CAAA;AAEV,MAAA,IAAA,GAAO,MAAO,CAAA,MAAA,CAAO,QAAU,EAAA;AAAA,EAC1C,IAAM,EAAA,QAAA;AAAA,EACN,OAAS,EAAA,WAAA;AAAA,EACT,KAAO,EAAA,SAAA;AACT,CAAC,EAAA;AAED,MAAM,SAAA,GAAY,CAAC,KAAyB,KAAA;AAC1C,EAAO,OAAA;AAAA,IACL,MAAQ,EAAA,GAAA,CAAA;AAAA,eAAA,EACK,KAAM,CAAA,OAAA,CAAQ,GAAK,EAAA,GAAA,EAAK,GAAG,GAAG,CAAA,CAAA;AAAA,+BACd,EAAA,KAAA,CAAM,OAAO,MAAO,CAAA,IAAA,CAAA;AAAA,IAAA,CAAA;AAAA,IAEjD,OAAS,EAAA,GAAA,CAAA;AAAA,kBACO,EAAA,KAAA,CAAM,OAAO,UAAW,CAAA,OAAA,CAAA;AAAA,kBAAA,EACxB,MAAM,OAAQ,CAAA,EAAA,CAAA;AAAA;AAAA,qBAEX,EAAA,KAAA,CAAM,MAAM,YAAa,EAAA,CAAA;AAAA,eAC/B,EAAA,KAAA,CAAM,OAAQ,CAAA,GAAA,EAAK,CAAC,CAAA,CAAA;AAAA,IAAA,CAAA;AAAA,GAEnC,CAAA;AACF,CAAA;;;;"}