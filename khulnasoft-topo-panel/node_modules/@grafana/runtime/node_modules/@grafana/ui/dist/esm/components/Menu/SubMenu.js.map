{"version":3,"file":"SubMenu.js","sources":["../../../../src/components/Menu/SubMenu.tsx"],"sourcesContent":["import { css } from '@emotion/css';\nimport React, { CSSProperties, ReactElement, useRef } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useStyles2 } from '../../themes';\nimport { Icon } from '../Icon/Icon';\n\nimport { MenuItemProps } from './MenuItem';\nimport { useMenuFocus } from './hooks';\nimport { getPosition } from './utils';\n\n/** @internal */\nexport interface SubMenuProps {\n  /** List of menu items of the subMenu */\n  items?: Array<ReactElement<MenuItemProps>>;\n  /** Open */\n  isOpen: boolean;\n  /** Marks whether subMenu was opened with arrow */\n  openedWithArrow: boolean;\n  /** Changes value of openedWithArrow */\n  setOpenedWithArrow: (openedWithArrow: boolean) => void;\n  /** Closes the subMenu */\n  close: () => void;\n  /** Custom style */\n  customStyle?: CSSProperties;\n}\n\n/** @internal */\nexport const SubMenu: React.FC<SubMenuProps> = React.memo(\n  ({ items, isOpen, openedWithArrow, setOpenedWithArrow, close, customStyle }) => {\n    const styles = useStyles2(getStyles);\n    const localRef = useRef<HTMLDivElement>(null);\n    const [handleKeys] = useMenuFocus({\n      localRef,\n      isMenuOpen: isOpen,\n      openedWithArrow,\n      setOpenedWithArrow,\n      close,\n    });\n\n    return (\n      <>\n        <div className={styles.iconWrapper} aria-label={selectors.components.Menu.SubMenu.icon}>\n          <Icon name=\"angle-right\" className={styles.icon} aria-hidden />\n        </div>\n        {isOpen && (\n          <div\n            ref={localRef}\n            className={styles.subMenu(localRef.current)}\n            aria-label={selectors.components.Menu.SubMenu.container}\n            style={customStyle}\n          >\n            <div tabIndex={-1} className={styles.itemsWrapper} role=\"menu\" onKeyDown={handleKeys}>\n              {items}\n            </div>\n          </div>\n        )}\n      </>\n    );\n  }\n);\n\nSubMenu.displayName = 'SubMenu';\n\n/** @internal */\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    iconWrapper: css`\n      display: flex;\n      flex: 1;\n      justify-content: end;\n    `,\n    icon: css`\n      opacity: 0.7;\n      margin-left: ${theme.spacing(2)};\n      color: ${theme.colors.text.secondary};\n    `,\n    itemsWrapper: css`\n      background: ${theme.colors.background.primary};\n      box-shadow: ${theme.shadows.z3};\n      display: inline-block;\n      border-radius: ${theme.shape.borderRadius()};\n    `,\n    subMenu: (element: HTMLElement | null) => css`\n      position: absolute;\n      top: 0;\n      z-index: ${theme.zIndex.dropdown};\n      ${getPosition(element)}: 100%;\n    `,\n  };\n};\n"],"names":["React"],"mappings":";;;;;;;;;;;;AA8BO,MAAM,UAAkCA,cAAM,CAAA,IAAA;AAAA,EACnD,CAAC,EAAE,KAAO,EAAA,MAAA,EAAQ,iBAAiB,kBAAoB,EAAA,KAAA,EAAO,aAAkB,KAAA;AAC9E,IAAM,MAAA,MAAA,GAAS,WAAW,SAAS,CAAA,CAAA;AACnC,IAAM,MAAA,QAAA,GAAW,OAAuB,IAAI,CAAA,CAAA;AAC5C,IAAM,MAAA,CAAC,UAAU,CAAA,GAAI,YAAa,CAAA;AAAA,MAChC,QAAA;AAAA,MACA,UAAY,EAAA,MAAA;AAAA,MACZ,eAAA;AAAA,MACA,kBAAA;AAAA,MACA,KAAA;AAAA,KACD,CAAA,CAAA;AAED,IAAA,mGAEKA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAI,WAAW,MAAO,CAAA,WAAA;AAAA,MAAa,YAAY,EAAA,SAAA,CAAU,UAAW,CAAA,IAAA,CAAK,OAAQ,CAAA,IAAA;AAAA,KAAA,kBAC/EA,cAAA,CAAA,aAAA,CAAA,IAAA,EAAA;AAAA,MAAK,IAAK,EAAA,aAAA;AAAA,MAAc,WAAW,MAAO,CAAA,IAAA;AAAA,MAAM,aAAW,EAAA,IAAA;AAAA,KAAC,CAC/D,CACC,EAAA,MAAA,oBACEA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MACC,GAAK,EAAA,QAAA;AAAA,MACL,SAAW,EAAA,MAAA,CAAO,OAAQ,CAAA,QAAA,CAAS,OAAO,CAAA;AAAA,MAC1C,YAAY,EAAA,SAAA,CAAU,UAAW,CAAA,IAAA,CAAK,OAAQ,CAAA,SAAA;AAAA,MAC9C,KAAO,EAAA,WAAA;AAAA,KAAA,kBAENA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,MAAI,QAAU,EAAA,CAAA,CAAA;AAAA,MAAI,WAAW,MAAO,CAAA,YAAA;AAAA,MAAc,IAAK,EAAA,MAAA;AAAA,MAAO,SAAW,EAAA,UAAA;AAAA,KACvE,EAAA,KACH,CACF,CAEJ,CAAA,CAAA;AAAA,GAEJ;AACF,EAAA;AAEA,OAAA,CAAQ,WAAc,GAAA,SAAA,CAAA;AAGtB,MAAM,SAAA,GAAY,CAAC,KAAyB,KAAA;AAC1C,EAAO,OAAA;AAAA,IACL,WAAa,EAAA,GAAA,CAAA;AAAA;AAAA;AAAA;AAAA,IAAA,CAAA;AAAA,IAKb,IAAM,EAAA,GAAA,CAAA;AAAA;AAAA,mBAEW,EAAA,KAAA,CAAM,QAAQ,CAAC,CAAA,CAAA;AAAA,aACrB,EAAA,KAAA,CAAM,OAAO,IAAK,CAAA,SAAA,CAAA;AAAA,IAAA,CAAA;AAAA,IAE7B,YAAc,EAAA,GAAA,CAAA;AAAA,kBACE,EAAA,KAAA,CAAM,OAAO,UAAW,CAAA,OAAA,CAAA;AAAA,kBAAA,EACxB,MAAM,OAAQ,CAAA,EAAA,CAAA;AAAA;AAAA,qBAEX,EAAA,KAAA,CAAM,MAAM,YAAa,EAAA,CAAA;AAAA,IAAA,CAAA;AAAA,IAE5C,OAAA,EAAS,CAAC,OAAgC,KAAA,GAAA,CAAA;AAAA;AAAA;AAAA,eAAA,EAG7B,MAAM,MAAO,CAAA,QAAA,CAAA;AAAA,MAAA,EACtB,YAAY,OAAO,CAAA,CAAA;AAAA,IAAA,CAAA;AAAA,GAEzB,CAAA;AACF,CAAA;;;;"}