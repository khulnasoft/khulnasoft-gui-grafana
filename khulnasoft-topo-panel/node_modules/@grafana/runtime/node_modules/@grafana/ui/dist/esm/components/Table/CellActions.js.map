{"version":3,"file":"CellActions.js","sources":["../../../../src/components/Table/CellActions.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react';\n\nimport { IconSize } from '../../types/icon';\nimport { IconButton } from '../IconButton/IconButton';\nimport { HorizontalGroup } from '../Layout/Layout';\nimport { TooltipPlacement } from '../Tooltip';\n\nimport { TableCellInspectModal } from './TableCellInspectModal';\nimport { FILTER_FOR_OPERATOR, FILTER_OUT_OPERATOR, TableCellProps, TableFieldOptions } from './types';\nimport { getTextAlign } from './utils';\n\ninterface CellActionProps extends TableCellProps {\n  previewMode: 'text' | 'code';\n}\n\ninterface CommonButtonProps {\n  size: IconSize;\n  tooltipPlacement: TooltipPlacement;\n}\n\nexport function CellActions({ field, cell, previewMode, onCellFilterAdded }: CellActionProps) {\n  const [isInspecting, setIsInspecting] = useState(false);\n\n  const isRightAligned = getTextAlign(field) === 'flex-end';\n  const showFilters = Boolean(field.config.filterable) && cell.value !== undefined;\n  const inspectEnabled = Boolean((field.config.custom as TableFieldOptions)?.inspect);\n  const commonButtonProps: CommonButtonProps = {\n    size: 'sm',\n    tooltipPlacement: 'top',\n  };\n\n  const onFilterFor = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_FOR_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n  const onFilterOut = useCallback(\n    (event: React.MouseEvent<HTMLButtonElement>) => {\n      if (onCellFilterAdded) {\n        onCellFilterAdded({ key: field.name, operator: FILTER_OUT_OPERATOR, value: cell.value });\n      }\n    },\n    [cell, field, onCellFilterAdded]\n  );\n\n  return (\n    <>\n      <div className={`cellActions ${isRightAligned ? 'cellActionsLeft' : ''}`}>\n        <HorizontalGroup spacing=\"xs\">\n          {inspectEnabled && (\n            <IconButton\n              name=\"eye\"\n              tooltip=\"Inspect value\"\n              onClick={() => {\n                setIsInspecting(true);\n              }}\n              {...commonButtonProps}\n            />\n          )}\n          {showFilters && (\n            <IconButton name={'search-plus'} onClick={onFilterFor} tooltip=\"Filter for value\" {...commonButtonProps} />\n          )}\n          {showFilters && (\n            <IconButton name={'search-minus'} onClick={onFilterOut} tooltip=\"Filter out value\" {...commonButtonProps} />\n          )}\n        </HorizontalGroup>\n      </div>\n\n      {isInspecting && (\n        <TableCellInspectModal\n          mode={previewMode}\n          value={cell.value}\n          onDismiss={() => {\n            setIsInspecting(false);\n          }}\n        />\n      )}\n    </>\n  );\n}\n"],"names":["React"],"mappings":"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"}