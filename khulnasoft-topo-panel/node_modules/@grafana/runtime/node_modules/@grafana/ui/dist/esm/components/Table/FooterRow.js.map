{"version":3,"file":"FooterRow.js","sources":["../../../../src/components/Table/FooterRow.tsx"],"sourcesContent":["import React from 'react';\nimport { ColumnInstance, HeaderGroup } from 'react-table';\n\nimport { selectors } from '@grafana/e2e-selectors';\n\nimport { useStyles2 } from '../../themes';\n\nimport { EmptyCell, FooterCell } from './FooterCell';\nimport { getTableStyles, TableStyles } from './styles';\nimport { FooterItem } from './types';\n\nexport interface FooterRowProps {\n  totalColumnsWidth: number;\n  footerGroups: HeaderGroup[];\n  footerValues: FooterItem[];\n  isPaginationVisible: boolean;\n  height: number;\n}\n\nexport const FooterRow = (props: FooterRowProps) => {\n  const { totalColumnsWidth, footerGroups, height, isPaginationVisible } = props;\n  const e2eSelectorsTable = selectors.components.Panels.Visualization.Table;\n  const tableStyles = useStyles2(getTableStyles);\n\n  return (\n    <div\n      style={{\n        position: isPaginationVisible ? 'relative' : 'absolute',\n        width: totalColumnsWidth ? `${totalColumnsWidth}px` : '100%',\n        bottom: '0px',\n      }}\n    >\n      {footerGroups.map((footerGroup: HeaderGroup) => {\n        const { key, ...footerGroupProps } = footerGroup.getFooterGroupProps();\n        return (\n          <div\n            className={tableStyles.tfoot}\n            {...footerGroupProps}\n            key={key}\n            data-testid={e2eSelectorsTable.footer}\n            style={height ? { height: `${height}px` } : undefined}\n          >\n            {footerGroup.headers.map((column: ColumnInstance, index: number) =>\n              renderFooterCell(column, tableStyles, height)\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nfunction renderFooterCell(column: ColumnInstance, tableStyles: TableStyles, height?: number) {\n  const footerProps = column.getHeaderProps();\n\n  if (!footerProps) {\n    return null;\n  }\n\n  footerProps.style = footerProps.style ?? {};\n  footerProps.style.position = 'absolute';\n  footerProps.style.justifyContent = (column as any).justifyContent;\n  if (height) {\n    footerProps.style.height = height;\n  }\n\n  return (\n    <div className={tableStyles.headerCell} {...footerProps}>\n      {column.render('Footer')}\n    </div>\n  );\n}\n\nexport function getFooterValue(index: number, footerValues?: FooterItem[]) {\n  if (footerValues === undefined) {\n    return EmptyCell;\n  }\n\n  return FooterCell({ value: footerValues[index] });\n}\n"],"names":["React"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBa,MAAA,SAAA,GAAY,CAAC,KAA0B,KAAA;AAClD,EAAA,MAAM,EAAE,iBAAA,EAAmB,YAAc,EAAA,MAAA,EAAQ,qBAAwB,GAAA,KAAA,CAAA;AACzE,EAAA,MAAM,iBAAoB,GAAA,SAAA,CAAU,UAAW,CAAA,MAAA,CAAO,aAAc,CAAA,KAAA,CAAA;AACpE,EAAM,MAAA,WAAA,GAAc,WAAW,cAAc,CAAA,CAAA;AAE7C,EAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA;AAAA,IACC,KAAO,EAAA;AAAA,MACL,QAAA,EAAU,sBAAsB,UAAa,GAAA,UAAA;AAAA,MAC7C,KAAA,EAAO,iBAAoB,GAAA,CAAA,EAAG,iBAAwB,CAAA,EAAA,CAAA,GAAA,MAAA;AAAA,MACtD,MAAQ,EAAA,KAAA;AAAA,KACV;AAAA,GAEC,EAAA,YAAA,CAAa,GAAI,CAAA,CAAC,WAA6B,KAAA;AAC9C,IAAqC,MAAA,EAAA,GAAA,WAAA,CAAY,qBAAzC,EAAA,EAAA,GAAA,KAA6B,EAArB,EAAA,gBAAA,GAAA,SAAA,CAAqB,IAArB,CAAR,KAAA,CAAA,CAAA,CAAA;AACR,IAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA,aAAA,CAAA,cAAA,CAAA;AAAA,MACC,WAAW,WAAY,CAAA,KAAA;AAAA,KAAA,EACnB,gBAFL,CAAA,EAAA;AAAA,MAGC,GAAA;AAAA,MACA,eAAa,iBAAkB,CAAA,MAAA;AAAA,MAC/B,OAAO,MAAS,GAAA,EAAE,MAAQ,EAAA,CAAA,EAAG,YAAe,GAAA,KAAA,CAAA;AAAA,KAAA,CAAA,EAE3C,YAAY,OAAQ,CAAA,GAAA;AAAA,MAAI,CAAC,MAAwB,EAAA,KAAA,KAChD,gBAAiB,CAAA,MAAA,EAAQ,aAAa,MAAM,CAAA;AAAA,KAEhD,CAAA,CAAA;AAAA,GAEH,CACH,CAAA,CAAA;AAEJ,EAAA;AAEA,SAAS,gBAAA,CAAiB,MAAwB,EAAA,WAAA,EAA0B,MAAiB,EAAA;AApD7F,EAAA,IAAA,EAAA,CAAA;AAqDE,EAAM,MAAA,WAAA,GAAc,OAAO,cAAe,EAAA,CAAA;AAE1C,EAAA,IAAI,CAAC,WAAa,EAAA;AAChB,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAA,WAAA,CAAY,KAAQ,GAAA,CAAA,EAAA,GAAA,WAAA,CAAY,KAAZ,KAAA,IAAA,GAAA,EAAA,GAAqB,EAAC,CAAA;AAC1C,EAAA,WAAA,CAAY,MAAM,QAAW,GAAA,UAAA,CAAA;AAC7B,EAAY,WAAA,CAAA,KAAA,CAAM,iBAAkB,MAAe,CAAA,cAAA,CAAA;AACnD,EAAA,IAAI,MAAQ,EAAA;AACV,IAAA,WAAA,CAAY,MAAM,MAAS,GAAA,MAAA,CAAA;AAAA,GAC7B;AAEA,EAAA,uBACGA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA,cAAA,CAAA;AAAA,IAAI,WAAW,WAAY,CAAA,UAAA;AAAA,GAAA,EAAgB,WACzC,CAAA,EAAA,MAAA,CAAO,MAAO,CAAA,QAAQ,CACzB,CAAA,CAAA;AAEJ,CAAA;AAEgB,SAAA,cAAA,CAAe,OAAe,YAA6B,EAAA;AACzE,EAAA,IAAI,iBAAiB,KAAW,CAAA,EAAA;AAC9B,IAAO,OAAA,SAAA,CAAA;AAAA,GACT;AAEA,EAAA,OAAO,UAAW,CAAA,EAAE,KAAO,EAAA,YAAA,CAAa,QAAQ,CAAA,CAAA;AAClD;;;;"}