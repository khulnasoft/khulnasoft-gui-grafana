{"version":3,"file":"Popover.js","sources":["../../../../src/components/Tooltip/Popover.tsx"],"sourcesContent":["ï»¿import { Placement, VirtualElement } from '@popperjs/core';\nimport React, { PureComponent } from 'react';\nimport { Manager, Popper as ReactPopper, PopperArrowProps } from 'react-popper';\nimport Transition from 'react-transition-group/Transition';\n\nimport { Portal } from '../Portal/Portal';\n\nimport { PopoverContent } from './types';\n\nconst defaultTransitionStyles = {\n  transitionProperty: 'opacity',\n  transitionDuration: '200ms',\n  transitionTimingFunction: 'linear',\n  opacity: 0,\n};\n\nconst transitionStyles: { [key: string]: object } = {\n  exited: { opacity: 0 },\n  entering: { opacity: 0 },\n  entered: { opacity: 1, transitionDelay: '0s' },\n  exiting: { opacity: 0, transitionDelay: '500ms' },\n};\n\nexport type RenderPopperArrowFn = (props: { arrowProps: PopperArrowProps; placement: string }) => JSX.Element;\n\ninterface Props extends React.HTMLAttributes<HTMLDivElement> {\n  show: boolean;\n  placement?: Placement;\n  content: PopoverContent;\n  referenceElement: HTMLElement | VirtualElement;\n  wrapperClassName?: string;\n  renderArrow?: RenderPopperArrowFn;\n}\n\nclass Popover extends PureComponent<Props> {\n  render() {\n    const {\n      content,\n      show,\n      placement,\n      onMouseEnter,\n      onMouseLeave,\n      className,\n      wrapperClassName,\n      renderArrow,\n      referenceElement,\n      onKeyDown,\n    } = this.props;\n\n    return (\n      <Manager>\n        <Transition in={show} timeout={100} mountOnEnter={true} unmountOnExit={true}>\n          {(transitionState) => {\n            return (\n              <Portal>\n                <ReactPopper\n                  placement={placement}\n                  referenceElement={referenceElement}\n                  modifiers={[\n                    { name: 'preventOverflow', enabled: true, options: { rootBoundary: 'viewport' } },\n                    {\n                      name: 'eventListeners',\n                      options: { scroll: true, resize: true },\n                    },\n                  ]}\n                >\n                  {({ ref, style, placement, arrowProps, update }) => {\n                    return (\n                      <div\n                        onMouseEnter={onMouseEnter}\n                        onMouseLeave={onMouseLeave}\n                        onKeyDown={onKeyDown}\n                        ref={ref}\n                        style={{\n                          ...style,\n                          ...defaultTransitionStyles,\n                          ...transitionStyles[transitionState],\n                        }}\n                        data-placement={placement}\n                        className={`${wrapperClassName}`}\n                      >\n                        <div className={className}>\n                          {typeof content === 'string' && content}\n                          {React.isValidElement(content) && React.cloneElement(content)}\n                          {typeof content === 'function' &&\n                            content({\n                              updatePopperPosition: update,\n                            })}\n                          {renderArrow &&\n                            renderArrow({\n                              arrowProps,\n                              placement,\n                            })}\n                        </div>\n                      </div>\n                    );\n                  }}\n                </ReactPopper>\n              </Portal>\n            );\n          }}\n        </Transition>\n      </Manager>\n    );\n  }\n}\n\nexport { Popover };\n"],"names":["React","ReactPopper","placement"],"mappings":"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"}