{"version":3,"file":"webVitalsBasic.js","sourceRoot":"","sources":["../../../../src/instrumentations/webVitals/webVitalsBasic.ts"],"names":[],"mappings":";;;AAAA,yCAAuE;AAIvE;IAUE,wBAAoB,eAAmD;QAAnD,oBAAe,GAAf,eAAe,CAAoC;IAAG,CAAC;IAE3E,mCAAU,GAAV;QAAA,iBAYC;QAXC,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAC,EAAqB;gBAApB,SAAS,QAAA,EAAE,QAAQ,QAAA;YAClE,QAAQ,CAAC,UAAC,MAAM;;gBACd,KAAI,CAAC,eAAe,CAAC;oBACnB,IAAI,EAAE,YAAY;oBAElB,MAAM;wBACJ,GAAC,SAAS,IAAG,MAAM,CAAC,KAAK;2BAC1B;iBACF,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAvBM,sBAAO,GAAG;QACf,GAAG,EAAE,kBAAK;QACV,GAAG,EAAE,kBAAK;QACV,GAAG,EAAE,kBAAK;QACV,GAAG,EAAE,kBAAK;QACV,GAAG,EAAE,kBAAK;QACV,IAAI,EAAE,mBAAM;KACb,CAAC;IAiBJ,qBAAC;CAAA,AAzBD,IAyBC;AAzBY,wCAAc","sourcesContent":["import { onCLS, onFCP, onFID, onINP, onLCP, onTTFB } from 'web-vitals';\n\nimport type { MeasurementsAPI } from '@grafana/faro-core';\n\nexport class WebVitalsBasic {\n  static mapping = {\n    cls: onCLS,\n    fcp: onFCP,\n    fid: onFID,\n    inp: onINP,\n    lcp: onLCP,\n    ttfb: onTTFB,\n  };\n\n  constructor(private pushMeasurement: MeasurementsAPI['pushMeasurement']) {}\n\n  initialize(): void {\n    Object.entries(WebVitalsBasic.mapping).forEach(([indicator, executor]) => {\n      executor((metric) => {\n        this.pushMeasurement({\n          type: 'web-vitals',\n\n          values: {\n            [indicator]: metric.value,\n          },\n        });\n      });\n    });\n  }\n}\n"]}